    Checking smallvec v1.15.1
   Compiling zerocopy v0.8.27
    Checking num-traits v0.2.19
    Checking getrandom v0.3.4
    Checking wait-timeout v0.2.1
    Checking http-body v1.0.1
    Checking atomic-waker v1.1.2
    Checking quick-error v1.2.3
    Checking bit-vec v0.8.0
    Checking assert-json-diff v2.0.2
    Checking unarray v0.1.4
    Checking similar v2.7.0
    Checking predicates-core v1.0.9
    Checking normalize-line-endings v0.3.0
    Checking parking_lot_core v0.9.12
    Checking icu_normalizer v2.0.0
   Compiling uuid v1.18.1
    Checking http-body-util v0.1.3
    Checking tempfile v3.23.0
    Checking rand_core v0.9.3
    Checking tracing-subscriber v0.3.20
    Checking termtree v0.5.1
    Checking difflib v0.4.0
    Checking doc-comment v0.3.3
    Checking bit-set v0.8.0
    Checking bstr v1.12.0
    Checking chrono v0.4.42
    Checking parking_lot v0.12.5
    Checking float-cmp v0.10.0
    Checking predicates-tree v1.0.12
    Checking rand_xorshift v0.4.0
    Checking rusty-fork v0.3.1
   Compiling cbindgen v0.26.0
   Compiling cfb v0.7.3
   Compiling schemars v0.8.22
    Checking idna_adapter v1.2.1
    Checking tokio v1.48.0
    Checking ppv-lite86 v0.2.21
    Checking predicates v3.1.3
    Checking idna v1.1.0
   Compiling rand_chacha v0.3.1
   Compiling rand_chacha v0.2.2
    Checking rand_chacha v0.9.0
    Checking assert_cmd v2.0.17
    Checking url v2.5.7
   Compiling infer v0.19.0
   Compiling rand v0.7.3
   Compiling rand v0.8.5
    Checking rand v0.9.2
    Checking urlpattern v0.3.0
    Checking tao v0.34.4
    Checking wry v0.53.4
    Checking proptest v1.8.0
   Compiling phf_generator v0.11.3
   Compiling phf_generator v0.10.0
   Compiling phf_generator v0.8.0
   Compiling phf_macros v0.10.0
   Compiling phf_codegen v0.11.3
   Compiling string_cache_codegen v0.5.4
   Compiling phf_codegen v0.8.0
   Compiling phf_macros v0.11.3
   Compiling selectors v0.24.0
   Compiling markup5ever v0.14.1
   Compiling phf v0.11.3
   Compiling phf v0.10.1
   Compiling aicred-ffi v0.1.0 (/Users/kipp/openclaw/aicred/ffi)
    Checking tokio-util v0.7.16
    Checking tokio-rustls v0.24.1
    Checking h2 v0.3.27
    Checking h2 v0.4.12
    Checking tauri-utils v2.7.0
   Compiling cssparser v0.29.6
   Compiling html5ever v0.29.1
    Checking hyper v1.7.0
    Checking hyper v0.14.32
   Compiling kuchikiki v0.8.8-speedreader
    Checking hyper-util v0.1.17
    Checking mockito v1.7.0
    Checking hyper-rustls v0.24.2
    Checking reqwest v0.11.27
    Checking tauri-runtime v2.8.0
    Checking aicred-core v0.2.0 (/Users/kipp/openclaw/aicred/core)
    Checking tauri-runtime-wry v2.8.1
error: unused import: `Model`
   --> core/src/env_resolver.rs:656:25
    |
656 |     use crate::models::{Model, ProviderInstance};
    |                         ^^^^^
    |
    = note: `-D unused-imports` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(unused_imports)]`

error: unnecessary hashes around raw string literal
   --> core/src/models/config_validator.rs:137:20
    |
137 |           let yaml = r#"
    |  ____________________^
138 | | id: openai-prod
139 | | provider_type: openai
140 | | base_url: https://api.openai.com
...   |
152 | | active: true
153 | | "#;
    | |__^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_raw_string_hashes
    = note: `-D clippy::needless-raw-string-hashes` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::needless_raw_string_hashes)]`
help: remove all the hashes around the string literal
    |
137 ~         let yaml = r"
138 | id: openai-prod
...
152 | active: true
153 ~ ";
    |

error: unused import: `Model`
  --> core/src/discovery/mod.rs:57:37
   |
57 | use crate::models::{ConfigInstance, Model, ProviderInstance};
   |                                     ^^^^^
   |
   = note: `-D unused-imports` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(unused_imports)]`

error: unused import: `std::path::Path`
   --> core/src/providers/openai.rs:195:9
    |
195 |     use std::path::Path;
    |         ^^^^^^^^^^^^^^^

error: unused import: `Model`
 --> core/src/utils/provider_model_tuple.rs:3:21
  |
3 | use crate::models::{Model, ProviderInstance};
  |                     ^^^^^

error: unused import: `std::collections::HashMap`
   --> core/src/lib.rs:767:9
    |
767 |     use std::collections::HashMap;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^

error: unused import: `Model`
  --> core/src/discovery/mod.rs:57:37
   |
57 | use crate::models::{ConfigInstance, Model, ProviderInstance};
   |                                     ^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/lib.rs:141:5
    |
141 |     PluginRegistry, register_builtin_plugins,
    |     ^^^^^^^^^^^^^^
    |
    = note: `-D deprecated` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(deprecated)]`

error: use of deprecated function `plugins::register_builtin_plugins`: Use register_builtin_providers() instead
   --> core/src/lib.rs:141:21
    |
141 |     PluginRegistry, register_builtin_plugins,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/lib.rs:452:40
    |
452 | fn create_default_registry() -> Result<PluginRegistry> {
    |                                        ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/lib.rs:453:20
    |
453 |     let registry = PluginRegistry::new();
    |                    ^^^^^^^^^^^^^^

error: use of deprecated function `plugins::register_builtin_plugins`: Use register_builtin_providers() instead
   --> core/src/lib.rs:456:5
    |
456 |     register_builtin_plugins(&registry)?;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/lib.rs:475:23
    |
475 |     plugin_registry: &PluginRegistry,
    |                       ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/lib.rs:764:23
    |
764 |     plugin_registry: &PluginRegistry,
    |                       ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/lib.rs:948:31
    |
948 | fn filter_registry(registry: &PluginRegistry, options: &ScanOptions) -> Result<PluginRegistry> {
    |                               ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/lib.rs:948:80
    |
948 | fn filter_registry(registry: &PluginRegistry, options: &ScanOptions) -> Result<PluginRegistry> {
    |                                                                                ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/lib.rs:949:29
    |
949 |     let filtered_registry = PluginRegistry::new();
    |                             ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:191:26
    |
191 | impl std::fmt::Debug for PluginRegistry {
    |                          ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:202:6
    |
202 | impl PluginRegistry {
    |      ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:303:18
    |
303 | impl Default for PluginRegistry {
    |                  ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:369:44
    |
369 | pub fn register_builtin_plugins(registry: &PluginRegistry) -> Result<()> {
    |                                            ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/discovery/mod.rs:557:50
    |
557 |         plugin_registry: Option<&crate::plugins::PluginRegistry>,
    |                                                  ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/discovery/mod.rs:805:50
    |
805 |         plugin_registry: Option<&crate::plugins::PluginRegistry>,
    |                                                  ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
  --> core/src/discovery/claude_desktop.rs:81:50
   |
81 |         plugin_registry: Option<&crate::plugins::PluginRegistry>,
   |                                                  ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/discovery/claude_desktop.rs:167:50
    |
167 |         plugin_registry: Option<&crate::plugins::PluginRegistry>,
    |                                                  ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/discovery/gsh.rs:108:50
    |
108 |         plugin_registry: Option<&crate::plugins::PluginRegistry>,
    |                                                  ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/discovery/gsh.rs:203:50
    |
203 |         plugin_registry: Option<&crate::plugins::PluginRegistry>,
    |                                                  ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/discovery/roo_code.rs:256:50
    |
256 |         plugin_registry: Option<&crate::plugins::PluginRegistry>,
    |                                                  ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:463:24
    |
463 |         let registry = PluginRegistry::new();
    |                        ^^^^^^^^^^^^^^

error: use of deprecated struct `plugins::PluginRegistry`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:486:24
    |
486 |         let registry = PluginRegistry::new();
    |                        ^^^^^^^^^^^^^^

error: use of deprecated field `plugins::PluginRegistry::plugins`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:196:42
    |
196 |                 &format!("<{} plugins>", self.plugins.read().unwrap().len()),
    |                                          ^^^^^^^^^^^^

error: use of deprecated field `plugins::PluginRegistry::plugins`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:207:13
    |
207 |             plugins: Arc::new(RwLock::new(HashMap::new())),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error: use of deprecated field `plugins::PluginRegistry::plugins`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:216:27
    |
216 |         let mut plugins = self.plugins.write().map_err(|_| {
    |                           ^^^^^^^^^^^^

error: use of deprecated field `plugins::PluginRegistry::plugins`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:234:9
    |
234 |         self.plugins
    |         ^^^^^^^^^^^^

error: use of deprecated field `plugins::PluginRegistry::plugins`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:243:9
    |
243 |         self.plugins
    |         ^^^^^^^^^^^^

error: use of deprecated field `plugins::PluginRegistry::plugins`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:255:12
    |
255 |           Ok(self
    |  ____________^
256 | |             .plugins
    | |____________________^

error: use of deprecated field `plugins::PluginRegistry::plugins`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:267:9
    |
267 |         self.plugins
    |         ^^^^^^^^^^^^

error: use of deprecated field `plugins::PluginRegistry::plugins`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:277:9
    |
277 |         self.plugins.read().ok().map_or(0, |plugins| plugins.len())
    |         ^^^^^^^^^^^^

error: use of deprecated field `plugins::PluginRegistry::plugins`: Use ProviderRegistry (HashMap) with helper functions instead
   --> core/src/plugins/mod.rs:289:9
    |
289 |         self.plugins
    |         ^^^^^^^^^^^^

error: variable does not need to be mutable
  --> core/src/plugins/mod.rs:92:13
   |
92 |         let mut model: Model = serde_yaml::from_str(&model_content).map_err(|e| {
   |             ----^^^^^
   |             |
   |             help: remove this `mut`
   |
   = note: `-D unused-mut` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(unused_mut)]`

error: unused variable: `instance`
  --> core/src/plugins/mod.rs:71:9
   |
71 |         instance: &ProviderInstance,
   |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_instance`
   |
   = note: `-D unused-variables` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(unused_variables)]`

error: variable does not need to be mutable
  --> core/src/providers/openrouter.rs:66:13
   |
66 |         let mut metadata = ModelMetadata {
   |             ----^^^^^^^^
   |             |
   |             help: remove this `mut`

error: unused variable: `plugin`
   --> core/src/providers/anthropic.rs:363:13
    |
363 |         let plugin = AnthropicPlugin;
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_plugin`

error: fields `context_length`, `pricing`, and `extra` are never read
  --> core/src/providers/openrouter.rs:34:5
   |
30 | struct OpenRouterModel {
   |        --------------- fields in this struct
...
34 |     context_length: Option<u32>,
   |     ^^^^^^^^^^^^^^
35 |     pricing: Option<OpenRouterPricing>,
   |     ^^^^^^^
...
38 |     extra: HashMap<String, serde_json::Value>,
   |     ^^^^^
   |
   = note: `OpenRouterModel` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis
   = note: `-D dead-code` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(dead_code)]`

error: fields `prompt`, `completion`, `image`, and `request` are never read
  --> core/src/providers/openrouter.rs:44:5
   |
43 | struct OpenRouterPricing {
   |        ----------------- fields in this struct
44 |     prompt: Option<String>,
   |     ^^^^^^
45 |     completion: Option<String>,
   |     ^^^^^^^^^^
46 |     image: Option<String>,
   |     ^^^^^
47 |     request: Option<String>,
   |     ^^^^^^^
   |
   = note: `OpenRouterPricing` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

error: fields `tokenizer` and `instruct_type` are never read
  --> core/src/providers/openrouter.rs:54:5
   |
52 | struct OpenRouterArchitecture {
   |        ---------------------- fields in this struct
53 |     modality: Option<String>,
54 |     tokenizer: Option<String>,
   |     ^^^^^^^^^
55 |     instruct_type: Option<String>,
   |     ^^^^^^^^^^^^^
   |
   = note: `OpenRouterArchitecture` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

error: associated function `parse_price` is never used
  --> core/src/providers/openrouter.rs:60:8
   |
58 | impl OpenRouterPlugin {
   | --------------------- associated function in this implementation
59 |     /// Converts `OpenRouter` pricing string to f64
60 |     fn parse_price(price_str: Option<String>) -> Option<f64> {
   |        ^^^^^^^^^^^

error: this could be a `const fn`
  --> core/src/env_resolver.rs:21:5
   |
21 | /     pub fn new(label_name: String, target: ProviderModelTuple) -> Self {
22 | |         Self { label_name, target }
23 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_const_for_fn
   = note: `-D clippy::missing-const-for-fn` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::missing_const_for_fn)]`
help: make the function `const`
   |
21 |     pub const fn new(label_name: String, target: ProviderModelTuple) -> Self {
   |         +++++

error: unused variable: `scanner`
   --> core/src/discovery/gsh.rs:594:13
    |
594 |         let scanner = GshScanner;
    |             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_scanner`

error: unused variable: `scanner`
   --> core/src/discovery/gsh.rs:611:13
    |
611 |         let scanner = GshScanner;
    |             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_scanner`

error: unused variable: `scanner`
   --> core/src/discovery/gsh.rs:652:13
    |
652 |         let scanner = GshScanner;
    |             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_scanner`

error: these match arms have identical bodies
   --> core/src/models/credentials.rs:133:13
    |
133 | /             (true, None) => {
...   |
136 | |             }
    | |_____________^
...
141 | /             (false, None) => {
142 | |                 // Already redacted
143 | |             }
    | |_____________^
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#match_same_arms
    = note: `-D clippy::match-same-arms` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::match_same_arms)]`
help: otherwise merge the patterns into a single arm
    |
133 ~             (true, None) | (false, None) => {
134 |                 // Don't have full value, can't include it - keep as redacted
...
140 |             }
141 ~             }
    |

error: unused variable: `scanner`
   --> core/src/discovery/ragit.rs:406:13
    |
406 |         let scanner = RagitScanner;
    |             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_scanner`

error: unused variable: `scanner`
   --> core/src/discovery/ragit.rs:418:13
    |
418 |         let scanner = RagitScanner;
    |             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_scanner`

error: unused variable: `scanner`
   --> core/src/discovery/ragit.rs:434:13
    |
434 |         let scanner = RagitScanner;
    |             ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_scanner`

error: item in documentation is missing backticks
   --> core/src/models/credentials.rs:199:68
    |
199 |     /// Gets the source field name for backward compatibility with DiscoveredKey
    |                                                                    ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#doc_markdown
    = note: `-D clippy::doc-markdown` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::doc_markdown)]`
help: try
    |
199 -     /// Gets the source field name for backward compatibility with DiscoveredKey
199 +     /// Gets the source field name for backward compatibility with `DiscoveredKey`
    |

error: module has the same name as its containing module
 --> core/src/models/mod.rs:6:1
  |
6 | pub mod models;
  | ^^^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#module_inception
  = note: `-D clippy::module-inception` implied by `-D warnings`
  = help: to override `-D warnings` add `#[allow(clippy::module_inception)]`

error: unused variable: `instance`
    --> core/src/discovery/mod.rs:1195:13
     |
1195 |         let instance = &instances[0];
     |             ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_instance`

error: more than 3 bools in a struct
  --> core/src/models/models.rs:26:1
   |
26 | / pub struct ModelCapabilities {
27 | |     /// Supports chat/conversation
28 | |     pub chat: bool,
29 | |     /// Supports text completion
...  |
38 | |     pub json_mode: bool,
39 | | }
   | |_^
   |
   = help: consider using a state machine or refactoring bools into two-variant enums
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#struct_excessive_bools
   = note: `-D clippy::struct-excessive-bools` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::struct_excessive_bools)]`

error: item in documentation is missing backticks
  --> core/src/models/models.rs:54:43
   |
54 | /// Note: For backward compatibility with probe_models_async, this also includes
   |                                           ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#doc_markdown
help: try
   |
54 - /// Note: For backward compatibility with probe_models_async, this also includes
54 + /// Note: For backward compatibility with `probe_models_async`, this also includes
   |

error: this could be a `const fn`
  --> core/src/models/providers.rs:71:1
   |
71 | / fn default_active() -> bool {
72 | |     true
73 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_const_for_fn
help: make the function `const`
   |
71 | const fn default_active() -> bool {
   | +++++

error: item in documentation is missing backticks
  --> core/src/models/providers.rs:78:17
   |
78 |     /// Returns Some(&api_key) if the key is non-empty, None otherwise.
   |                 ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#doc_markdown
help: try
   |
78 -     /// Returns Some(&api_key) if the key is non-empty, None otherwise.
78 +     /// Returns `Some(&api_key)` if the key is non-empty, None otherwise.
   |

error: this could be a `const fn`
  --> core/src/models/providers.rs:80:5
   |
80 | /     pub fn get_api_key(&self) -> Option<&String> {
81 | |         if self.api_key.is_empty() {
82 | |             None
83 | |         } else {
...  |
86 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_const_for_fn
help: make the function `const`
   |
80 |     pub const fn get_api_key(&self) -> Option<&String> {
   |         +++++

error: this could be a `const fn`
  --> core/src/models/providers.rs:90:5
   |
90 | /     pub fn has_non_empty_api_key(&self) -> bool {
91 | |         !self.api_key.is_empty()
92 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_const_for_fn
help: make the function `const`
   |
90 |     pub const fn has_non_empty_api_key(&self) -> bool {
   |         +++++

error: this could be a `const fn`
  --> core/src/models/providers.rs:96:5
   |
96 | /     pub fn has_api_key(&self) -> bool {
97 | |         !self.api_key.is_empty()
98 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_const_for_fn
help: make the function `const`
   |
96 |     pub const fn has_api_key(&self) -> bool {
   |         +++++

error: this could be a `const fn`
   --> core/src/models/providers.rs:114:5
    |
114 | /     pub fn model_count(&self) -> usize {
115 | |         self.models.len()
116 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_const_for_fn
help: make the function `const`
    |
114 |     pub const fn model_count(&self) -> usize {
    |         +++++

error: more than 3 bools in a struct
   --> core/src/models/providers.rs:188:1
    |
188 | / pub struct Capabilities {
189 | |     /// Supports chat/conversation endpoints
190 | |     pub chat: bool,
191 | |     /// Supports text completion endpoints
...   |
200 | |     pub streaming: bool,
201 | | }
    | |_^
    |
    = help: consider using a state machine or refactoring bools into two-variant enums
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#struct_excessive_bools

error: casting `i64` to `f64` causes a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> core/src/models/scan.rs:196:9
    |
196 |         duration.num_milliseconds() as f64 / 1000.0
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#cast_precision_loss
    = note: `-D clippy::cast-precision-loss` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::cast_precision_loss)]`

error: docs for function returning `Result` missing `# Errors` section
  --> core/src/models/config_validator.rs:38:1
   |
38 | pub fn validate_provider_instance_yaml(content: &str) -> Result<(), String> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_errors_doc
   = note: `-D clippy::missing-errors-doc` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::missing_errors_doc)]`

error: docs for function returning `Result` missing `# Errors` section
  --> core/src/models/config_validator.rs:96:1
   |
96 | pub fn validate_provider_instances_yaml(content: &str) -> Result<(), String> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_errors_doc

error: this function's return value is unnecessarily wrapped by `Result`
  --> core/src/parser/mod.rs:55:5
   |
55 |     fn detect_format_from_content(content: &str) -> Result<FileFormat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unnecessary_wraps
   = note: `-D clippy::unnecessary-wraps` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::unnecessary_wraps)]`
help: remove `Result` from the return type...
   |
55 -     fn detect_format_from_content(content: &str) -> Result<FileFormat> {
55 +     fn detect_format_from_content(content: &str) -> parser::FileFormat {
   |
help: ...and then remove the surrounding `Ok()` from returning expressions
   |
64 ~                 return FileFormat::Json;
65 |             }
...
75 |             }) {
76 ~                 return FileFormat::Yaml;
77 |             }
...
96 |             if has_table_array || has_dotted_key {
97 ~                 return FileFormat::Toml;
98 |             }
...
115|             if has_ini_section {
116~                 return FileFormat::Ini;
117|             }
...
124|         }) {
125~             return FileFormat::Dotenv;
126|         }
127|
128|         // Default to plain text
129~         FileFormat::Plain
   |

error: use Option::map_or instead of an if let/else
  --> core/src/parser/mod.rs:87:17
   |
87 | /                 if let Some(eq_pos) = line.find('=') {
88 | |                     let key_part = &line[..eq_pos].trim();
89 | |                     // Check for dotted keys (key with dots) or quoted keys
90 | |                     key_part.contains('.') || (key_part.starts_with('"') && key_part.ends_with('"'))
91 | |                 } else {
92 | |                     false
93 | |                 }
   | |_________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#option_if_let_else
   = note: `-D clippy::option-if-let-else` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::option_if_let_else)]`
help: try
   |
87 ~                 line.find('=').map_or(false, |eq_pos| {
88 +                     let key_part = &line[..eq_pos].trim();
89 +                     // Check for dotted keys (key with dots) or quoted keys
90 +                     key_part.contains('.') || (key_part.starts_with('"') && key_part.ends_with('"'))
91 +                 })
   |

error: wildcard matches only a single variant and will also match any future added variants
   --> core/src/parser/mod.rs:204:13
    |
204 |             _ => {}
    |             ^ help: try: `JsonValue::Null`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#match_wildcard_for_single_variants
    = note: `-D clippy::match-wildcard-for-single-variants` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::match_wildcard_for_single_variants)]`

error: this function's return value is unnecessarily wrapped by `Result`
   --> core/src/parser/mod.rs:233:5
    |
233 |     fn parse_ini(content: &str) -> Result<HashMap<String, String>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
233 -     fn parse_ini(content: &str) -> Result<HashMap<String, String>> {
233 +     fn parse_ini(content: &str) -> std::collections::HashMap<std::string::String, std::string::String> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
266 -         Ok(result)
266 +         result
    |

error: this function's return value is unnecessarily wrapped by `Result`
   --> core/src/parser/mod.rs:270:5
    |
270 |     fn parse_dotenv(content: &str) -> Result<HashMap<String, String>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
270 -     fn parse_dotenv(content: &str) -> Result<HashMap<String, String>> {
270 +     fn parse_dotenv(content: &str) -> std::collections::HashMap<std::string::String, std::string::String> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
299 -         Ok(result)
299 +         result
    |

error: this function's return value is unnecessarily wrapped by `Result`
   --> core/src/parser/mod.rs:303:5
    |
303 |     fn parse_plain(content: &str) -> Result<HashMap<String, String>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
303 -     fn parse_plain(content: &str) -> Result<HashMap<String, String>> {
303 +     fn parse_plain(content: &str) -> std::collections::HashMap<std::string::String, std::string::String> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
332 -         Ok(result)
332 +         result
    |

error: docs for function returning `Result` missing `# Errors` section
  --> core/src/plugins/mod.rs:39:5
   |
39 |     fn initialize_instance(&self, _instance: &ProviderInstance) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_errors_doc

error: docs for function returning `Result` missing `# Errors` section
  --> core/src/plugins/mod.rs:46:5
   |
46 |     fn validate_instance(&self, instance: &ProviderInstance) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_errors_doc

error: docs for function returning `Result` missing `# Errors` section
  --> core/src/plugins/mod.rs:61:5
   |
61 |     fn get_instance_models(&self, instance: &ProviderInstance) -> Result<Vec<String>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_errors_doc

error: docs for function returning `Result` missing `# Errors` section
  --> core/src/plugins/mod.rs:69:5
   |
69 | /     fn get_model_with_overrides(
70 | |         &self,
71 | |         instance: &ProviderInstance,
72 | |         model_id: &str,
73 | |         home_dir: &std::path::Path,
74 | |     ) -> Result<Option<crate::models::Model>> {
   | |_____________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_errors_doc

error: docs for function returning `Result` missing `# Errors` section
   --> core/src/plugins/mod.rs:105:5
    |
105 |     fn is_instance_configured(&self, instance: &ProviderInstance) -> Result<bool> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_errors_doc

error: docs for function returning `Result` missing `# Errors` section
   --> core/src/plugins/mod.rs:123:5
    |
123 |     fn probe_models(&self, _api_key: &str) -> Result<Vec<String>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_errors_doc

error: temporary with significant `Drop` can be early dropped
   --> core/src/plugins/mod.rs:216:17
    |
215 |       pub fn register(&self, plugin: Arc<dyn ProviderPlugin>) -> Result<()> {
    |  ___________________________________________________________________________-
216 | |         let mut plugins = self.plugins.write().map_err(|_| {
    | |                 ^^^^^^^
217 | |             Error::PluginError("Failed to acquire write lock on plugins".to_string())
218 | |         })?;
...   |
228 | |         Ok(())
229 | |     }
    | |_____- temporary `plugins` is currently being dropped at the end of its contained scope
    |
    = note: this might lead to unnecessary resource contention
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#significant_drop_tightening
    = note: `-D clippy::significant-drop-tightening` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::significant_drop_tightening)]`
help: drop the temporary after the end of its last usage
    |
227 ~         plugins.insert(name, plugin);
228 +         drop(plugins);
    |

error: docs for function returning `Result` missing `# Errors` section
   --> core/src/plugins/mod.rs:369:1
    |
369 | pub fn register_builtin_plugins(registry: &PluginRegistry) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#missing_errors_doc

error: unused `self` argument
   --> core/src/providers/anthropic.rs:178:31
    |
178 |     fn validate_base_instance(&self, instance: &ProviderInstance) -> Result<()> {
    |                               ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self
    = note: `-D clippy::unused-self` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::unused_self)]`

error: this `if` has identical blocks
  --> core/src/providers/groq.rs:17:36
   |
17 |           if key.starts_with("gsk_") {
   |  ____________________________________^
18 | |             0.95 // Very distinctive Groq prefix
19 | |         } else if key.starts_with("gsk-") {
   | |_________^
   |
note: same as this
  --> core/src/providers/groq.rs:19:43
   |
19 |           } else if key.starts_with("gsk-") {
   |  ___________________________________________^
20 | |             0.95 // Alternative Groq prefix format
21 | |         } else if key.len() >= 40 && key.contains('_') {
   | |_________^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#if_same_then_else
   = note: `-D clippy::if-same-then-else` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::if_same_then_else)]`

error: unused `self` argument
  --> core/src/providers/groq.rs:97:31
   |
97 |     fn validate_base_instance(&self, instance: &ProviderInstance) -> Result<()> {
   |                               ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: unused `self` argument
  --> core/src/providers/huggingface.rs:98:31
   |
98 |     fn validate_base_instance(&self, instance: &ProviderInstance) -> Result<()> {
   |                               ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: this `if` has identical blocks
  --> core/src/providers/litellm.rs:17:88
   |
17 |           if key.len() >= 40 && key.contains('-') && key.chars().any(char::is_uppercase) {
   |  ________________________________________________________________________________________^
18 | |             0.85 // High confidence for complex keys
19 | |         } else if key.len() >= 30 {
   | |_________^
   |
note: same as this
  --> core/src/providers/litellm.rs:19:35
   |
19 |           } else if key.len() >= 30 {
   |  ___________________________________^
20 | |             0.85 // Medium-high confidence for longer keys (30+ chars)
21 | |         } else {
   | |_________^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#if_same_then_else

error: unused `self` argument
   --> core/src/providers/litellm.rs:107:31
    |
107 |     fn validate_base_instance(&self, instance: &ProviderInstance) -> Result<()> {
    |                               ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: unused `self` argument
   --> core/src/providers/ollama.rs:109:31
    |
109 |     fn validate_base_instance(&self, instance: &ProviderInstance) -> Result<()> {
    |                               ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: this `if` has identical blocks
  --> core/src/providers/openai.rs:81:40
   |
81 |           if key.starts_with("sk-proj-") {
   |  ________________________________________^
82 | |             0.95 // Project keys are very distinctive
83 | |         } else if key.starts_with("sk-") {
   | |_________^
   |
note: same as this
  --> core/src/providers/openai.rs:83:42
   |
83 |           } else if key.starts_with("sk-") {
   |  __________________________________________^
84 | |             0.95 // Standard OpenAI keys
85 | |         } else if key.len() >= 40 && key.contains('-') {
   | |_________^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#if_same_then_else

error: use Option::map_or instead of an if let/else
   --> core/src/providers/openai.rs:104:35
    |
104 |           let is_valid_openai_url = match Url::parse(&instance.base_url) {
    |  ___________________________________^
105 | |             Ok(parsed_url) => {
106 | |                 let host = parsed_url.host_str().unwrap_or("");
107 | |                 let allowed_hosts = ["api.openai.com", "openai-api-proxy.com"];
...   |
110 | |             Err(_) => false,
111 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#option_if_let_else
help: try
    |
104 ~         let is_valid_openai_url = Url::parse(&instance.base_url).map_or(false, |parsed_url| {
105 +                 let host = parsed_url.host_str().unwrap_or("");
106 +                 let allowed_hosts = ["api.openai.com", "openai-api-proxy.com"];
107 +                 allowed_hosts.contains(&host)
108 ~             });
    |

error: unused `self` argument
   --> core/src/providers/openai.rs:178:31
    |
178 |     fn validate_base_instance(&self, instance: &ProviderInstance) -> Result<()> {
    |                               ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: this argument is passed by value, but not consumed in the function body
  --> core/src/providers/openrouter.rs:65:31
   |
65 |     fn transform_model(model: OpenRouterModel) -> ModelMetadata {
   |                               ^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#needless_pass_by_value
   = note: `-D clippy::needless-pass-by-value` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::needless_pass_by_value)]`
help: consider taking a reference instead
   |
65 |     fn transform_model(model: &OpenRouterModel) -> ModelMetadata {
   |                               +

error: redundant clone
  --> core/src/providers/openrouter.rs:73:37
   |
73 |             notes: model.description.clone(),
   |                                     ^^^^^^^^ help: remove this
   |
note: this value is dropped without further use
  --> core/src/providers/openrouter.rs:73:20
   |
73 |             notes: model.description.clone(),
   |                    ^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_clone
   = note: `-D clippy::redundant-clone` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::redundant_clone)]`

error: use Option::map_or_else instead of an if let/else
  --> core/src/discovery/claude_desktop.rs:91:31
   |
91 |           let discovered_keys = if let Some(keys) = self.extract_keys_from_json(&json_value, path) {
   |  _______________________________^
92 | |             result.add_keys(keys.clone());
93 | |             keys
94 | |         } else {
95 | |             Vec::new()
96 | |         };
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#option_if_let_else
help: try
   |
91 ~         let discovered_keys = self.extract_keys_from_json(&json_value, path).map_or_else(Vec::new, |keys| {
92 +             result.add_keys(keys.clone());
93 +             keys
94 ~         });
   |

error: unused `self` argument
   --> core/src/discovery/claude_desktop.rs:226:9
    |
226 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: unused `self` argument
   --> core/src/discovery/gsh.rs:260:20
    |
260 |     fn parse_gshrc(&self, content: &str, path: &Path) -> Vec<DiscoveredCredential> {
    |                    ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: use Option::map_or instead of an if let/else
   --> core/src/discovery/gsh.rs:387:24
    |
387 |               let line = if let Some(stripped) = line.strip_prefix("export ") {
    |  ________________________^
388 | |                 stripped.trim()
389 | |             } else {
390 | |                 line
391 | |             };
    | |_____________^ help: try: `line.strip_prefix("export ").map_or(line, |stripped| stripped.trim())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#option_if_let_else

error: unused `self` argument
   --> core/src/discovery/gsh.rs:417:39
    |
417 |     fn extract_keys_from_shell_script(&self, content: &str, path: &Path) -> Vec<DiscoveredCredential> {
    |                                       ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: unused `self` argument
   --> core/src/discovery/langchain.rs:150:9
    |
150 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: unused `self` argument
   --> core/src/discovery/langchain.rs:316:9
    |
316 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: unused `self` argument
   --> core/src/discovery/ragit.rs:120:9
    |
120 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: unused `self` argument
   --> core/src/discovery/ragit.rs:295:29
    |
295 |     fn scan_project_configs(&self, dir: &Path, instances: &mut Vec<ConfigInstance>) -> Result<()> {
    |                             ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: this function's return value is unnecessary
   --> core/src/discovery/ragit.rs:295:5
    |
295 |     fn scan_project_configs(&self, dir: &Path, instances: &mut Vec<ConfigInstance>) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unnecessary_wraps
help: remove the return type...
    |
295 -     fn scan_project_configs(&self, dir: &Path, instances: &mut Vec<ConfigInstance>) -> Result<()> {
295 +     fn scan_project_configs(&self, dir: &Path, instances: &mut Vec<ConfigInstance>) -> () {
    |
help: ...and then remove returned values
    |
322 -         Ok(())
    |

error: this function has too many lines (114/100)
  --> core/src/discovery/roo_code.rs:23:5
   |
23 |     fn scan_paths(&self, home_dir: &Path) -> Vec<PathBuf> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#too_many_lines
   = note: `-D clippy::too-many-lines` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::too_many_lines)]`

error: use Option::map_or_else instead of an if let/else
   --> core/src/discovery/roo_code.rs:285:31
    |
285 |           let discovered_keys = if let Some(keys) = self.extract_keys_from_json(&json_value, path) {
    |  _______________________________^
286 | |             tracing::debug!("Extracted {} keys from JSON", keys.len());
287 | |             result.add_keys(keys.clone());
288 | |             keys
...   |
291 | |             Vec::new()
292 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#option_if_let_else
help: try
    |
285 ~         let discovered_keys = self.extract_keys_from_json(&json_value, path).map_or_else(|| {
286 +             tracing::debug!("No keys extracted from JSON");
287 +             Vec::new()
288 +         }, |keys| {
289 +             tracing::debug!("Extracted {} keys from JSON", keys.len());
290 +             result.add_keys(keys.clone());
291 +             keys
292 ~         });
    |

error: unused `self` argument
   --> core/src/discovery/roo_code.rs:382:9
    |
382 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: this function has too many lines (125/100)
   --> core/src/discovery/roo_code.rs:381:5
    |
381 | /     fn extract_keys_from_json(
382 | |         &self,
383 | |         json_value: &serde_json::Value,
384 | |         path: &Path,
385 | |     ) -> Option<Vec<DiscoveredCredential>> {
    | |__________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#too_many_lines

error: unused `self` argument
   --> core/src/discovery/roo_code.rs:586:9
    |
586 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unused_self

error: this function's return value is unnecessary
   --> core/src/discovery/roo_code.rs:585:5
    |
585 | /     fn scan_settings_files(
586 | |         &self,
587 | |         home_dir: &Path,
588 | |         instances: &mut Vec<ConfigInstance>,
589 | |     ) -> Result<()> {
    | |___________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#unnecessary_wraps
help: remove the return type...
    |
589 -     ) -> Result<()> {
589 +     ) -> () {
    |
help: ...and then remove returned values
    |
608 -         Ok(())
    |

error: this function has too many lines (196/100)
   --> core/src/discovery/mod.rs:553:5
    |
553 | /     fn build_provider_instances(
554 | |         &self,
555 | |         grouped_keys: HashMap<String, Vec<DiscoveredCredential>>,
556 | |         source_path: &str,
557 | |         plugin_registry: Option<&crate::plugins::PluginRegistry>,
558 | |     ) -> Result<Vec<ProviderInstance>> {
    | |______________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#too_many_lines

error: strict comparison of `f32` or `f64`
   --> core/src/providers/anthropic.rs:206:9
    |
206 |         assert_eq!(plugin.confidence_score("sk-ant-1234567890abcdef"), 0.95);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: `-D clippy::float-cmp` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::float_cmp)]`
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/anthropic.rs:207:9
    |
207 | /         assert_eq!(
208 | |             plugin.confidence_score("sk-ant-1234567890abcdef1234567890abcdef"),
209 | |             0.95
210 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/anthropic.rs:211:9
    |
211 | /         assert_eq!(
212 | |             plugin.confidence_score("random-key-with-dashes-123456789"),
213 | |             0.30
214 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/groq.rs:125:9
    |
125 | /         assert_eq!(
126 | |             plugin.confidence_score("gsk_test1234567890abcdef1234567890abcdef"),
127 | |             0.95
128 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/groq.rs:129:9
    |
129 | /         assert_eq!(
130 | |             plugin.confidence_score("gsk-1234567890abcdef1234567890abcdef"),
131 | |             0.95
132 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/groq.rs:133:9
    |
133 | /         assert_eq!(
134 | |             plugin.confidence_score("random_key_with_underscores_123456789"),
135 | |             0.30
136 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/huggingface.rs:126:9
    |
126 |         assert_eq!(plugin.confidence_score("hf_1234567890abcdef"), 0.95);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/huggingface.rs:127:9
    |
127 | /         assert_eq!(
128 | |             plugin.confidence_score("hf_1234567890abcdef1234567890abcdef"),
129 | |             0.95
130 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/huggingface.rs:131:9
    |
131 | /         assert_eq!(
132 | |             plugin.confidence_score("random_key_with_underscores_123456789"),
133 | |             0.30
134 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/litellm.rs:136:9
    |
136 | /         assert_eq!(
137 | |             plugin.confidence_score("LL-ABCD-1234-EFGH-5678-IJKL-9012-MNOP"),
138 | |             0.85
139 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/litellm.rs:140:9
    |
140 | /         assert_eq!(
141 | |             plugin.confidence_score("litellm-api-key-with-dashes-and-UPPERCASE"),
142 | |             0.85
143 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/litellm.rs:146:9
    |
146 | /         assert_eq!(
147 | |             plugin.confidence_score("litellm-key-with-30-chars-exactly"),
148 | |             0.85
149 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/litellm.rs:152:9
    |
152 |         assert_eq!(plugin.confidence_score("short-key-123"), 0.50);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/ollama.rs:137:9
    |
137 |         assert_eq!(plugin.confidence_score("http://localhost:11434"), 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/ollama.rs:138:9
    |
138 |         assert_eq!(plugin.confidence_score("https://ollama.example.com"), 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/ollama.rs:139:9
    |
139 |         assert_eq!(plugin.confidence_score("llama2/7b"), 0.80);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/ollama.rs:140:9
    |
140 |         assert_eq!(plugin.confidence_score("some-config-value"), 0.70);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/openai.rs:207:9
    |
207 |         assert_eq!(plugin.confidence_score("sk-1234567890abcdef"), 0.95);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/openai.rs:208:9
    |
208 |         assert_eq!(plugin.confidence_score("sk-proj-1234567890abcdef"), 0.95);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> core/src/providers/openai.rs:209:9
    |
209 | /         assert_eq!(
210 | |             plugin.confidence_score("random-key-with-dashes-123456789"),
211 | |             0.50
212 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: could not compile `aicred-core` (lib) due to 99 previous errors
warning: build failed, waiting for other jobs to finish...
error: could not compile `aicred-core` (lib test) due to 131 previous errors
