# Continue.dev Scanner Specification

*Generated by ðŸ” Scanner Researcher Mode*

## Application Information

**Application Name**: Continue.dev
**Description**: VSCode extension for AI-powered code completion and assistance
**GitHub Repository**: https://github.com/continuedev/continue
**Primary Language**: TypeScript/JavaScript
**License**: Apache 2.0

## Configuration Analysis

### Configuration File Formats
- **Primary Format**: JSON
- **Alternative Formats**: YAML (for rules and context)
- **Environment Variables**: Yes - supports standard API key environment variables

### Configuration File Locations

#### macOS
```
~/Library/Application Support/Code/User/globalStorage/continue.continue/
~/Library/Application Support/Code/User/settings.json
~/.continue/
```

#### Linux
```
~/.config/Code/User/globalStorage/continue.continue/
~/.vscode/extensions/continue.continue-*/
```

#### Windows
```
%APPDATA%\Code\User\globalStorage\continue.continue\
%APPDATA%\Code\User\settings.json
```

### Key Configuration Files
1. **settings.json** - VSCode settings with Continue configuration
2. **config.json** - Continue-specific configuration
3. **.continue/config.json** - Project-specific Continue config
4. **.env** - Environment variables with API keys

## API Key Patterns

### Supported Providers
- OpenAI
- Anthropic
- Google/Gemini
- Hugging Face
- Ollama
- Azure OpenAI
- Mistral
- Cohere

### Key Validation Rules
- Minimum length: 15 characters
- Required prefixes: "sk-", "sk-ant-", "hf_", "gsk_", "ai-"
- Pattern validation: Provider-specific key formats

### Configuration Examples

#### Example 1: VSCode Settings
```json
{
  "continue.openaiApiKey": "sk-test1234567890abcdef",
  "continue.anthropicApiKey": "sk-ant-test1234567890abcdef",
  "continue.model": "gpt-4",
  "continue.temperature": 0.7
}
```

#### Example 2: Continue Config File
```json
{
  "models": [
    {
      "title": "GPT-4",
      "provider": "openai",
      "model": "gpt-4",
      "apiKey": "sk-openai1234567890abcdef"
    },
    {
      "title": "Claude",
      "provider": "anthropic",
      "model": "claude-3-sonnet-20240229",
      "apiKey": "sk-ant-anthropic1234567890abcdef"
    }
  ]
}
```

#### Example 3: Environment Variables
```bash
export OPENAI_API_KEY="sk-test1234567890abcdef"
export ANTHROPIC_API_KEY="sk-ant-test1234567890abcdef"
export HUGGING_FACE_HUB_TOKEN="hf_test1234567890abcdef"
```

## Scanner Implementation

### File Detection Logic
```rust
fn can_handle_file(&self, path: &Path) -> bool {
    let file_name = path.file_name().unwrap_or_default().to_string_lossy();
    let path_str = path.to_string_lossy();
    
    // VSCode extension files
    if path_str.contains("continue.continue") {
        return true;
    }
    
    // Continue config files
    if file_name == "config.json" && path_str.contains(".continue") {
        return true;
    }
    
    // VSCode settings
    if file_name == "settings.json" && path_str.contains("vscode") {
        return true;
    }
    
    // Environment files in continue contexts
    if (file_name == ".env" || file_name.ends_with(".env")) 
        && (path_str.contains("continue") || path_str.contains(".continue")) {
        return true;
    }
    
    false
}
```

### Key Extraction Logic
```rust
fn extract_keys_from_json(&self, json_value: &serde_json::Value, path: &Path) -> Option<Vec<DiscoveredKey>> {
    let mut keys = Vec::new();
    
    // Look for VSCode settings with continue prefix
    if let Some(settings) = json_value.as_object() {
        for (key, value) in settings {
            if key.starts_with("continue.") && key.contains("ApiKey") {
                if let Some(api_key) = value.as_str() {
                    if self.is_valid_key(api_key) {
                        let provider = self.infer_provider_from_key_name(key);
                        keys.push(DiscoveredKey::new(
                            provider,
                            path.display().to_string(),
                            ValueType::ApiKey,
                            self.get_confidence(api_key),
                            api_key.to_string(),
                        ));
                    }
                }
            }
        }
    }
    
    // Look for Continue models configuration
    if let Some(models) = json_value.get("models").and_then(|v| v.as_array()) {
        for model in models {
            if let Some(provider) = model.get("provider").and_then(|v| v.as_str()) {
                if let Some(api_key) = model.get("apiKey").and_then(|v| v.as_str()) {
                    if self.is_valid_key(api_key) {
                        keys.push(DiscoveredKey::new(
                            provider.to_string(),
                            path.display().to_string(),
                            ValueType::ApiKey,
                            self.get_confidence(api_key),
                            api_key.to_string(),
                        ));
                    }
                }
            }
        }
    }
    
    if keys.is_empty() { None } else { Some(keys) }
}
```

## Test Cases

### Test Configuration 1: VSCode Settings
```json
{
  "continue.openaiApiKey": "sk-test1234567890abcdef",
  "continue.anthropicApiKey": "sk-ant-test1234567890abcdef",
  "editor.fontSize": 14
}
```
Expected: Should find 2 keys with high confidence

### Test Configuration 2: Continue Models Config
```json
{
  "models": [
    {
      "title": "GPT-4",
      "provider": "openai",
      "model": "gpt-4",
      "apiKey": "sk-openai1234567890abcdef"
    },
    {
      "title": "Claude",
      "provider": "anthropic", 
      "model": "claude-3-sonnet",
      "apiKey": "sk-ant-anthropic1234567890abcdef"
    }
  ]
}
```
Expected: Should find 2 keys with high confidence

### Test Configuration 3: Invalid Keys
```json
{
  "continue.openaiApiKey": "short-key",
  "models": [{
    "provider": "openai",
    "apiKey": "invalid"
  }]
}
```
Expected: Should find 0 keys (invalid key format)

## Implementation Notes

### Scanner Name
`continue-dev`

### Supported Providers
All major AI providers: openai, anthropic, google, huggingface, ollama, azure-openai, mistral, cohere

### Platform Considerations
- Cross-platform VSCode extension paths
- Different VSCode variants (stable, insiders, oss)
- User vs workspace settings
- Global vs project-specific configuration

### Security Considerations
- Validate key formats to avoid false positives
- Support for encrypted API keys
- Workspace-specific vs global configuration
- Safe handling of sensitive configuration data

## References
- [Continue.dev Documentation](https://docs.continue.dev/)
- [GitHub Repository](https://github.com/continuedev/continue)
- [VSCode Extension Marketplace](https://marketplace.visualstudio.com/items?itemName=Continue.continue)
- [Configuration Reference](https://docs.continue.dev/reference/config)